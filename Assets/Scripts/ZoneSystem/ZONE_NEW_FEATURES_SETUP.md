# –ù–æ–≤—ã–µ —Ñ–∏—á–∏ Zone —Å–∏—Å—Ç–µ–º—ã - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## üìã –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### 1. –î–≤–∞ UI —Ü–≤–µ—Ç–æ—á–∫–∞ (–ª–µ–≤—ã–π –∏ –ø—Ä–∞–≤—ã–π)
- **–õ–µ–≤—ã–π**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–¥–∏–∞—Ü–∏—é –≤–æ–∫—Ä—É–≥ –≥–µ—Ä–æ—è (—Ü–µ–Ω—Ç—Ä + 6 —Å–æ—Å–µ–¥–µ–π)
- **–ü—Ä–∞–≤—ã–π**: –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–ø–æ–∫–∞ –ø—É—Å—Ç–æ–π)

### 2. –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ
- **–ê–Ω–æ–º–∞–ª–∏–∏** (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ –∫—É–±–∏–∫–∏)
- **–î—Ä–∞–∫–∏** (–æ—Ä–∞–Ω–∂–µ–≤—ã–µ –∫—É–±–∏–∫–∏)
- **–ò–≤–µ–Ω—Ç—ã** (–≥–æ–ª—É–±—ã–µ –∫—É–±–∏–∫–∏)

–ó–∞–º–µ—Ç–Ω–æ—Å—Ç—å: 0-3 (–Ω–∞ –∫–∞–∫–æ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–∏–º—ã–º)

---

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Unity

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UI —Ü–≤–µ—Ç–æ—á–∫–æ–≤

1. **–°–æ–∑–¥–∞–π—Ç–µ UI Document:**
   - –í —Å—Ü–µ–Ω–µ: `GameObject ‚Üí UI Toolkit ‚Üí UI Document`
   - –ù–∞–∑–æ–≤–∏—Ç–µ: `ZoneRadiationUI`

2. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ZoneRadiationUIController:**
   ```
   ZoneRadiationUI GameObject:
   - Add Component ‚Üí ZoneRadiationUIController
   - Drag UI Document –≤ –ø–æ–ª–µ "UI Document"
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–∑–∏—Ü–∏–∏:**
   - Left Flower X/Y: –ø–æ–∑–∏—Ü–∏—è –ª–µ–≤–æ–≥–æ —Ü–≤–µ—Ç–æ—á–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50, 50)
   - Right Flower X/Y: –ø–æ–∑–∏—Ü–∏—è –ø—Ä–∞–≤–æ–≥–æ —Ü–≤–µ—Ç–æ—á–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -350, 50)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π

1. **–°–æ–∑–¥–∞–π—Ç–µ GameObject –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞:**
   ```
   GameObject ‚Üí Create Empty
   Name: ZoneEventVisualizer
   Add Component ‚Üí ZoneEventVisualizer
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   - **Marker Size**: —Ä–∞–∑–º–µ—Ä –∫—É–±–∏–∫–æ–≤ (0.3 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - **Marker Height**: –≤—ã—Å–æ—Ç–∞ –Ω–∞–¥ –≥—Ä–∏–¥–æ–º (1.0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - **–¶–≤–µ—Ç–∞:**
     - Anomaly Color: —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (1, 0, 1, 0.8)
     - Fight Color: –æ—Ä–∞–Ω–∂–µ–≤—ã–π (1, 0.3, 0, 0.8)
     - Event Color: –≥–æ–ª—É–±–æ–π (0, 1, 1, 0.8)
   - **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:**
     - Discovered Alpha: 1.0 (–ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–∏–º—ã–µ)
     - Undiscovered Alpha: 0.3 (–ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Å–æ–±—ã—Ç–∏–π

1. **–ù–∞–π–¥–∏—Ç–µ ZoneSpawnerAuthoring –≤ —Å—Ü–µ–Ω–µ**

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–æ–≤—É—é —Å–µ–∫—Ü–∏—é "Map Events Generation":**
   ```
   Anomaly Probability: 0.05 (5% –∫–ª–µ—Ç–æ–∫)
   Fight Probability: 0.03 (3% –∫–ª–µ—Ç–æ–∫)
   Event Probability: 0.02 (2% –∫–ª–µ—Ç–æ–∫)
   ```

---

## üéÆ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –õ–µ–≤—ã–π —Ü–≤–µ—Ç–æ—á–µ–∫ (—Ä–∞–¥–∏–∞—Ü–∏—è):
```
       [6]        ‚Üê –í–µ—Ä—Ö (–æ—Å—å –≤–≤–µ—Ä—Ö)
   [5]  [0]  [1]  ‚Üê –¶–µ–Ω—Ç—Ä = –ø–æ–∑–∏—Ü–∏—è –≥–µ—Ä–æ—è
       [4]  [2]
         [3]      ‚Üê –ù–∏–∑
```

- **hex-0**: –ö–ª–µ—Ç–∫–∞ –ø–æ–¥ –≥–µ—Ä–æ–µ–º
- **hex-6**: –ö–ª–µ—Ç–∫–∞ —Å–≤–µ—Ä—Ö—É (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–∏ –≤–≤–µ—Ä—Ö)
- **hex-1..5**: –°–æ—Å–µ–¥–Ω–∏–µ –∫–ª–µ—Ç–∫–∏ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ

**–¶–≤–µ—Ç–∞:**
- –ó–µ–ª—ë–Ω—ã–π (0) = –±–µ–∑–æ–ø–∞—Å–Ω–æ
- –ñ—ë–ª—Ç—ã–π (5) = —Å–ª–∞–±–∞—è —Ä–∞–¥–∏–∞—Ü–∏—è
- –û—Ä–∞–Ω–∂–µ–≤—ã–π (10) = —Å—Ä–µ–¥–Ω—è—è —Ä–∞–¥–∏–∞—Ü–∏—è
- –ö—Ä–∞—Å–Ω—ã–π (15) = –≤—ã—Å–æ–∫–∞—è —Ä–∞–¥–∏–∞—Ü–∏—è

### –°–æ–±—ã—Ç–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ:

**–ó–∞–º–µ—Ç–Ω–æ—Å—Ç—å (Visibility):**
- `0` = –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–∞–Ω–∏–∏ –Ω–∞ –∫–ª–µ—Ç–∫—É
- `1` = –≤–∏–¥–Ω–æ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 1 hex
- `2` = –≤–∏–¥–Ω–æ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 2 hex
- `3` = –≤–∏–¥–Ω–æ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 3 hex

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ù–µ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ (alpha 0.3)
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: —è—Ä–∫–∏–µ (alpha 1.0)
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏

**–ü—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- –°–æ–±—ã—Ç–∏—è –ù–ï –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –∫—Ä–∞—Å–Ω—ã—Ö –∑–æ–Ω–∞—Ö (—Ä–∞–¥–∏–∞—Ü–∏—è 15)
- –ö–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ –Ω–∞ –∫–ª–µ—Ç–∫—É

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### –ù–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã (ECS):

1. **ZoneEventGeneratorSystem**
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –æ–¥–∏–Ω —Ä–∞–∑
   - Update Group: InitializationSystemGroup

2. **ZoneEventDiscoverySystem**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –≥–µ—Ä–æ—è –¥–æ —Å–æ–±—ã—Ç–∏–π
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å IsDiscovered
   - Update Group: SimulationSystemGroup

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```csharp
ZoneEventConfig          // –ö–æ–Ω—Ñ–∏–≥ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π (—Å–∏–Ω–≥–ª—Ç–æ–Ω)
ZoneEventData           // –î–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–Ω–∞ entity)
ZoneEventElement        // –ë—É—Ñ–µ—Ä —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ (–Ω–∞ GridMap)
ZoneEventType           // Enum: None, Anomaly, Fight, Event
```

### MonoBehaviour –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **ZoneRadiationUIController**
   - –°–æ–∑–¥–∞—ë—Ç UI –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ (–Ω–µ –Ω—É–∂–µ–Ω UXML)
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
   - –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ ECS

2. **ZoneEventVisualizer**
   - –°–æ–∑–¥–∞—ë—Ç GameObject –∫—É–±–∏–∫–∏ –¥–ª—è —Å–æ–±—ã—Ç–∏–π
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å ECS –¥–∞–Ω–Ω—ã–º–∏
   - –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:

### –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞ —Ä–∞–¥–∏–∞—Ü–∏–∏:
```
ZoneSpawnerAuthoring ‚Üí Radiation Colors
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞ —Å–æ–±—ã—Ç–∏–π:
```
ZoneEventVisualizer ‚Üí Event Colors
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ü–≤–µ—Ç–æ—á–∫–æ–≤:
–í `ZoneRadiationUIController.CreateFlowerContainer()`:
```csharp
container.style.width = 400;  // –ë—ã–ª–æ 300
container.style.height = 400;
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä hex –≤ —Ü–≤–µ—Ç–æ—á–∫–µ:
–í `ZoneRadiationUIController.CreateHexagon()`:
```csharp
hex.style.width = 80;   // –ë—ã–ª–æ 60
hex.style.height = 80;
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π:
```
Console ‚Üí "[ZoneEventGenerator] Generated X events on the map"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:
```
Console ‚Üí "[ZoneEventDiscovery] Discovered Anomaly at (x,y), visibility=2"
```

### –ï—Å–ª–∏ UI –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ UI Document –ø–æ–¥–∫–ª—é—á—ë–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ZoneModeTag –∞–∫—Ç–∏–≤–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≥–µ—Ä–æ–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (UnitId = 0)

### –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏—è –Ω–µ –≤–∏–¥–Ω—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ZoneEventVisualizer –Ω–∞ —Å—Ü–µ–Ω–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ > 0
3. –ü–æ–¥–≤–∏–Ω—å—Ç–µ –≥–µ—Ä–æ—è - —Å–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –¥–∞–ª–µ–∫–æ

---

## üìù TODO (–¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è):

1. **–ü—Ä–∞–≤—ã–π —Ü–≤–µ—Ç–æ—á–µ–∫:**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–ø–µ —Å–æ–±—ã—Ç–∏—è
   - –°—á—ë—Ç—á–∏–∫ –Ω–µ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

2. **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–æ–±—ã—Ç–∏—è–º–∏:**
   - –ö–ª–∏–∫ –ø–æ —Å–æ–±—ã—Ç–∏—é
   - –î–∏–∞–ª–æ–≥–∏
   - –ù–∞–≥—Ä–∞–¥—ã/–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
   - 3D –º–æ–¥–µ–ª–∏ –≤–º–µ—Å—Ç–æ –∫—É–±–∏–∫–æ–≤
   - –ß–∞—Å—Ç–∏—Ü—ã
   - –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏

4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:**
   - –¢–æ—Ä–≥–æ–≤—Ü—ã
   - –ö–≤–µ—Å—Ç—ã
   - –õ–æ–≤—É—à–∫–∏

---

## ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç:

- [ ] ZoneRadiationUI GameObject —Å UI Document
- [ ] ZoneRadiationUIController –Ω–∞ ZoneRadiationUI
- [ ] ZoneEventVisualizer GameObject –≤ —Å—Ü–µ–Ω–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤ ZoneSpawnerAuthoring
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ Play Mode
- [ ] –ö–æ–Ω—Å–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Generated X events"
- [ ] –¶–≤–µ—Ç–æ—á–∫–∏ –≤–∏–¥–Ω—ã —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞
- [ ] –°–æ–±—ã—Ç–∏—è (–∫—É–±–∏–∫–∏) –≤–∏–¥–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] –ü—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –≥–µ—Ä–æ—è —Å–æ–±—ã—Ç–∏—è –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è
